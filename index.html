<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SCP-096 — DO NOT LOOK</title>
<style>
html, body {
  margin: 0;
  padding: 0;
  background: black;
  color: #cfcfcf;
  font-family: monospace;
  overflow: hidden;
}
canvas {
  display: block;
  margin: auto;
  cursor: none;
}
#overlay {
  position: fixed;
  inset: 0;
  background: black;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 10;
}
button {
  background: black;
  color: #cfcfcf;
  border: 1px solid #555;
  padding: 12px 24px;
  cursor: pointer;
}
#ui {
  position: fixed;
  inset: 0;
  pointer-events: none;
}
#status {
  position: absolute;
  bottom: 10px;
  left: 10px;
  font-size: 12px;
}
#lie {
  position: absolute;
  bottom: 10px;
  right: 10px;
  font-size: 12px;
  color: #6f6;
}
#warning {
  position: absolute;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  color: #f55;
  font-weight: bold;
}
#bar {
  position: absolute;
  top: 40px;
  left: 50%;
  transform: translateX(-50%);
  width: 300px;
  height: 8px;
  border: 1px solid #333;
}
#fill {
  height: 100%;
  width: 5%;
  background: #6f6;
}
.scanlines {
  position: fixed;
  inset: 0;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,0.02),
    rgba(255,255,255,0.02) 1px,
    rgba(0,0,0,0) 2px,
    rgba(0,0,0,0) 4px
  );
  pointer-events: none;
}
</style>
</head>
<body>

<div id="overlay">
  <h1>SECURE • CONTAIN • PROTECT</h1>
  <p>Recovered Footage — Analysis Required</p>
  <button onclick="start()">BEGIN</button>
</div>

<canvas id="c" width="960" height="540"></canvas>

<div id="ui">
  <div id="warning"></div>
  <div id="bar"><div id="fill"></div></div>
  <div id="status">Exposure: 0.0%</div>
  <div id="lie">STATUS: SAFE</div>
</div>

<div class="scanlines"></div>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");
const status = document.getElementById("status");
const warning = document.getElementById("warning");
const lie = document.getElementById("lie");
const fill = document.getElementById("fill");

let revealed = 0;
let active = false;
let time = 0;

// replay punishment
let penalty = Number(localStorage.getItem("096_runs") || 0);
localStorage.setItem("096_runs", penalty + 1);

let limit = 14 - Math.min(penalty, 5); // gets harder every run

// AUDIO (procedural crying)
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
let osc, gain, filter;

function startAudio() {
  osc = audioCtx.createOscillator();
  gain = audioCtx.createGain();
  filter = audioCtx.createBiquadFilter();

  osc.type = "sawtooth";
  osc.frequency.value = 180;

  filter.type = "lowpass";
  filter.frequency.value = 400;

  gain.gain.value = 0.02;

  osc.connect(filter);
  filter.connect(gain);
  gain.connect(audioCtx.destination);

  osc.start();
}

function noise() {
  const img = ctx.createImageData(canvas.width, canvas.height);
  for (let i = 0; i < img.data.length; i += 4) {
    let v = Math.random() * 255;
    img.data[i] = img.data[i+1] = img.data[i+2] = v;
    img.data[i+3] = 255;
  }
  ctx.putImageData(img, 0, 0);
}

function start() {
  document.getElementById("overlay").style.display = "none";
  document.body.requestFullscreen?.();
  canvas.requestPointerLock?.();
  audioCtx.resume();
  startAudio();
  active = true;
  loop();
}

canvas.addEventListener("mousemove", e => {
  if (!active) return;

  const r = canvas.getBoundingClientRect();
  const x = e.clientX - r.left;
  const y = e.clientY - r.top;

  ctx.clearRect(x-18, y-18, 36, 36);
  revealed += 0.018 + Math.random()*0.01;

  status.textContent = "Exposure: " + revealed.toFixed(2) + "%";
});

function loop() {
  if (!active) return;
  time++;

  noise();

  // audio escalation
  gain.gain.value = Math.min(0.25, revealed / limit);
  osc.frequency.value = 140 + revealed * 10;
  filter.frequency.value = 600 - revealed * 20;

  // lying UI
  fill.style.width = Math.min(100, (revealed / limit) * 60) + "%";
  lie.textContent = "STATUS: SAFE";

  if (revealed > limit * 0.4) warning.textContent = "SIGNAL DEGRADED";
  if (revealed > limit * 0.6) warning.textContent = "DO NOT ADJUST";
  if (revealed > limit * 0.8) warning.textContent = "REDACTED";

  // random early termination (cruel)
  if (revealed > limit * 0.65 && Math.random() < 0.002) {
    end("EARLY");
    return;
  }

  if (revealed >= limit) {
    end("FULL");
    return;
  }

  // subtle screen shake
  canvas.style.transform = `translate(${Math.random()*2-1}px, ${Math.random()*2-1}px)`;

  requestAnimationFrame(loop);
}

function end(type) {
  active = false;
  osc.stop();

  document.exitFullscreen?.();
  document.exitPointerLock?.();

  document.body.innerHTML = `
    <div style="color:#f55;text-align:center;margin-top:20%;font-family:monospace">
      <h1>096 HAS SEEN YOU</h1>
      <p>Termination Mode: ${type}</p>
      <p>Time Remaining: ${Math.max(0, 30 - Math.floor(time/60))} seconds</p>
      <p>You were


